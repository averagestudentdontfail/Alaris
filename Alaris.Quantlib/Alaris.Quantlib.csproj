<Project Sdk="Microsoft.NET.Sdk">
  
  <PropertyGroup>
    <TargetFramework>net9.0</TargetFramework>
    <LangVersion>latest</LangVersion>
    <Nullable>enable</Nullable>
    <AllowUnsafeBlocks>true</AllowUnsafeBlocks>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>
    <Description>QuantLib C# bindings via SWIG for derivatives pricing</Description>
    <Authors>Kiran K. Nath</Authors>
    <Version>1.0.0</Version>
    <!-- Suppress XML documentation warnings for missing comments (auto-generated SWIG code) -->
    <NoWarn>$(NoWarn);CS1591</NoWarn>
  </PropertyGroup>

  <!-- Native Library Configuration -->
  <!-- These entries ensure native libraries are copied to output directories -->
  <!-- and subsequently to any referencing projects including test projects -->
  <ItemGroup>
    <!-- Primary SWIG wrapper library on Linux -->
    <Content Include="libNQuantLibc.so" Condition="Exists('libNQuantLibc.so')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>libNQuantLibc.so</Link>
      <Visible>false</Visible>
    </Content>
    
    <!-- Alternative naming for SWIG wrapper -->
    <Content Include="NQuantLibc.so" Condition="Exists('NQuantLibc.so')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>NQuantLibc.so</Link>
      <Visible>false</Visible>
    </Content>
    
    <!-- QuantLib C++ library dependency -->
    <Content Include="libQuantLib.so.1" Condition="Exists('libQuantLib.so.1')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>libQuantLib.so.1</Link>
      <Visible>false</Visible>
    </Content>
    
    <!-- Windows support if you're cross-platform -->
    <Content Include="NQuantLibc.dll" Condition="Exists('NQuantLibc.dll')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>NQuantLibc.dll</Link>
      <Visible>false</Visible>
    </Content>
    
    <Content Include="QuantLib-x64.dll" Condition="Exists('QuantLib-x64.dll')">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
      <Link>QuantLib-x64.dll</Link>
      <Visible>false</Visible>
    </Content>
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="System.Memory" Version="4.5.5" />
  </ItemGroup>

</Project>
